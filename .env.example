# Copy to .env and customize. Never commit real secrets.

ASPNETCORE_ENVIRONMENT=Production

# Database
ConnectionStrings__DefaultConnection=Server=localhost\SQLEXPRESS;Database=AuthenticationAPI;Trusted_Connection=True;TrustServerCertificate=True;
ConnectionStrings__AppDb=Server=localhost\SQLEXPRESS;Database=AppDb;Trusted_Connection=True;TrustServerCertificate=True;

# JWT options (set these per environment)
JWT__ValidIssuer=https://auth.bcmtrac.com
JWT__ValidAudience=https://api.bcmtrac.com
JWT__AccessTokenMinutes=15

# MFA (issuer shown in authenticator apps)
Mfa__Issuer=bcmtrac

# Key rotation
KeyRotation__IntervalHours=720
KeyRotation__RsaKeySize=3072
KeyRotation__OverlapActiveKeyCount=2

# Rate limiting
RateLimit__PolicyName=fixed-window
RateLimit__PermitLimit=100
RateLimit__WindowSeconds=60
RateLimit__QueueLimit=0

# CORS origins (semicolon-separated, required in Production)
Cors__AllowedOrigins=https://auth.bcmtrac.com;https://app.bcmtrac.com;https://www.bcmtrac.com

# Refresh token cookie (recommended true in production)
RefreshTokens__UseCookie=true


# Feature toggles
Features__AuditAndIdempotency=true
Features__RateLimit=true
Features__Swagger=false
Features__AutoMigrate=false
Features__Seed=false

# UI links in emails
Email__EmailConfirm__Url=https://auth.bcmtrac.com/email-confirm.html
PasswordReset__Url=https://auth.bcmtrac.com/reset-password.html

# Throttle provider
Throttle__Provider=memory # set to 'redis' for distributed
# Throttle__RedisConnectionString=localhost:6379

# Optional password breach checking
PasswordBreach__UseHibp=false
# PasswordBreach__Provider=hibp

# Data Protection storage (file|azure)
DataProtection__Storage=file
Azure__Blob__ConnectionString=
Azure__Blob__Container=dataprotection
Azure__KeyVault__VaultUrl=
Azure__KeyVault__KeyId=

# Email provider (SMTP - Everlytic)
Smtp__Host=smtp.everlytic.net
Smtp__Port=25
Smtp__UseSsl=false
Smtp__From=8.ev260750213078
Smtp__FromName=BCMtrac - Authentication
Smtp__Username=8.ev260750213078
Smtp__Password=PzfQvh6iH906dX13BUgwFdppNhGnHe3j_8

# Legacy SMTP keys (compatibility)
SMTPFrom=8.ev260750213078
SMTPPassword=PzfQvh6iH906dX13BUgwFdppNhGnHe3j_8
SMTPIP=
SMTPPort=25
SMTPServer=smtp.everlytic.net

